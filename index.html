<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>간단 적정주가 분석</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>간단 적정주가 분석기</h1>

        <div class="input-area">
            <label for="ticker-input">종목 티커 입력 (예: AAPL Apple Inc.):</label>
            <div class="autocomplete-container">
                <input type="text" id="ticker-input" placeholder="티커 또는 회사명 입력...">
                <div id="autocomplete-list" class="autocomplete-items"></div>
            </div>
            <button id="analyze-button">분석하기</button>
        </div>

        <div id="loading-indicator" class="loading" style="display: none;">분석 중...</div>
        <div id="error-message" class="error" style="display: none;"></div>

        <div id="results-area" style="display: none;">
            <h2 id="stock-name-title"></h2>
            <p><strong>현재(전일 종가):</strong> $<span id="current-price"></span></p>
            <p><strong>기준일:</strong> <span id="data-date">API 제공 기준</span></p>

            <h3>산출된 적정주가 범위</h3>
            <div class="chart-container">
                <div class="bar-wrapper">
                    <div class="bar-label">최저 추정</div>
                    <div class="bar" id="bar-low" style="width: 0%; background-color: #ff7675;">
                        <span class="bar-value" id="value-low"></span>
                    </div>
                </div>
                <div class="bar-wrapper">
                    <div class="bar-label">기본 추정</div>
                    <div class="bar" id="bar-base" style="width: 0%; background-color: #74b9ff;">
                        <span class="bar-value" id="value-base"></span>
                    </div>
                </div>
                <div class="bar-wrapper">
                    <div class="bar-label">최고 추정</div>
                    <div class="bar" id="bar-high" style="width: 0%; background-color: #55efc4;">
                        <span class="bar-value" id="value-high"></span>
                    </div>
                </div>
            </div>

            <h4>평가 모델별 분석 근거 및 사용자 설정</h4>
            <div id="model-details-area" class="model-details">
                <div class="model-item">
                    <strong>PER 모델:</strong>
                    <ul>
                        <li>목표 PER (낮음/기본/높음):
                            <input type="number" step="0.1" id="input-per-low" class="assumption-input"> /
                            <input type="number" step="0.1" id="input-per-base" class="assumption-input"> /
                            <input type="number" step="0.1" id="input-per-high" class="assumption-input">
                        </li>
                        <li>산출 주가 (낮음/기본/높음): <span id="per-value-range"></span></li>
                    </ul>
                </div>
                <div class="model-item">
                    <strong>PBR 모델:</strong>
                    <ul>
                        <li>목표 PBR (낮음/기본/높음):
                            <input type="number" step="0.01" id="input-pbr-low" class="assumption-input"> /
                            <input type="number" step="0.01" id="input-pbr-base" class="assumption-input"> /
                            <input type="number" step="0.01" id="input-pbr-high" class="assumption-input">
                        </li>
                        <li>산출 주가 (낮음/기본/높음): <span id="pbr-value-range"></span></li>
                    </ul>
                </div>
                <div class="model-item">
                    <strong id="intrinsic-model-name">내재가치 모델:</strong>
                    <ul>
                        <li>
                            요구수익률(Ke): <input type="number" step="0.1" id="input-ke" class="assumption-input" title="무위험수익률(Rf) + Beta * 주식위험프리미엄(ERP) 로 계산됨. 직접 수정 가능.">%
                            (Rf: <input type="number" step="0.1" id="input-rf" class="assumption-input assumption-small" value="3.0">% +
                             Beta (<span id="data-beta-display">N/A</span>) *
                             ERP: <input type="number" step="0.1" id="input-erp" class="assumption-input assumption-small" value="5.0">%)
                        </li>
                        <li>
                            적용 성장률(g): <input type="number" step="0.1" id="input-g" class="assumption-input">%
                        </li>
                        <li>산출 주가 (낮음/기본/높음): <span id="intrinsic-value-range"></span></li>
                    </ul>
                </div>
            </div>

            <button id="recalculate-button">입력값으로 재계산</button>

            <h4>주요 데이터 (API 제공값)</h4>
            <ul id="api-data-list">
                <li>EPS (TTM): <span id="data-eps"></span></li>
                <li>BPS (TTM): <span id="data-bps"></span></li>
                <li>DPS (연간 TTM): <span id="data-dps"></span></li>
                <li>Beta: <span id="data-beta"></span></li>
                <li>ROE (TTM): <span id="data-roe"></span>%</li>
                <li>배당성향 (TTM): <span id="data-payout-ratio"></span>%</li>
            </ul>
             <p class="disclaimer">본 분석은 제한된 데이터와 일반적인 가정을 바탕으로 한 참고용이며, 투자 결정의 근거가 될 수 없습니다. 실제 투자 시에는 보다 상세한 분석과 전문가의 조언을 구하시기 바랍니다.</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
